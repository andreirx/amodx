# AMODX Infrastructure (The Factory)

AWS CDK (TypeScript) definitions for the entire stack.

## ğŸŒ Domain Strategy

We use a **Config-Driven** approach to handle Multi-Tenancy and SSL.

1.  **Config:** `amodx.config.json` (Root) defines the Agency Domain and Client Custom Domains.
2.  **Scripts:**
    *   `npm run manage-domains`: Requests a single ACM Certificate covering ALL domains in `us-east-1`.
    *   `npx cdk deploy`: Updates CloudFront to listen for these domains.

## ğŸ“¦ Storage Buckets

1.  **AssetsBucket:** Public Read. Served via CloudFront.
2.  **PrivateBucket:** No Public Access. Accessed via Presigned URLs generated by Backend.

## ğŸ” Auth Infrastructure

*   **AdminPool:** Agency Owners (Invite Only).
*   **PublicPool:** Tenant End Users (Self-Signup / Social).
