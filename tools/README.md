# MCP Server

Model Context Protocol server for Claude Desktop integration. Gives Claude full control over AMODX tenants, content, and context.

## Stack

- **MCP SDK** (`@modelcontextprotocol/sdk ^1.24.3`) — StdioServerTransport
- **Playwright** (`^1.57.0`) — browser automation (Chromium)
- **Cheerio + Axios** — web scraping
- **Zod 4** — input validation

## Tools (28)

| Category | Tools |
|----------|-------|
| Content | `list_pages`, `get_page`, `create_page`, `update_page`, `delete_page`, `add_block`, `get_block_schemas` |
| Context | `list_context`, `get_context`, `create_context`, `update_context`, `delete_context` |
| Tenants | `list_tenants`, `get_tenant_settings`, `update_tenant_settings` |
| Assets | `list_assets` |
| Commerce | `list_products`, `list_categories` |
| Research | `brave_search` |
| Browser | `browse_page`, `screenshot_page`, `click_element`, `fill_form`, `browser_navigate` |
| Utility | `analyze_url`, `scrape_url` |

## Auth

Uses the master API key from Secrets Manager. Bypasses Cognito — authenticated as robot.

## Setup

```bash
npm run build
npm run setup    # writes to claude_desktop_config.json
```

Requires `.env` with `AMODX_API_URL` and `AMODX_API_KEY` (generated by `npm run post-deploy` in root).
